# ì•½êµ­ë°°ìƒì±…ìž„ë³´í—˜ ì‹œìŠ¤í…œ í†µí•© ë¬¸ì„œ

> **ìž‘ì„±ì¼**: 2026-01-09  
> **ëª©ì **: ì•½êµ­ë°°ìƒì±…ìž„ë³´í—˜ ì‹œìŠ¤í…œì˜ ëª¨ë“  ì •ë³´ë¥¼ í†µí•© ê´€ë¦¬  
> **ìœ„ì¹˜**: `disk-cms-react/docs/pharmacy/`

---

## ðŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [íŽ˜ì´ì§€ êµ¬ì¡° ë° ìš©ë„](#íŽ˜ì´ì§€-êµ¬ì¡°-ë°-ìš©ë„)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
4. [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
5. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
6. [ê°œë°œ ê³„íš](#ê°œë°œ-ê³„íš)
7. [í•µì‹¬ í”„ë¡œì„¸ìŠ¤](#í•µì‹¬-í”„ë¡œì„¸ìŠ¤)

---

## ì‹œìŠ¤í…œ ê°œìš”

ì•½êµ­ë°°ìƒì±…ìž„ë³´í—˜ ì‹œìŠ¤í…œì€ ì•½êµ­ì´ ë³´í—˜ ê°€ìž…ì‹ ì²­ì„ í•˜ê³ , ê³ ê°ì‚¬ ê´€ë¦¬ìžì™€ ì‹œìŠ¤í…œ ê´€ë¦¬ìžê°€ ì´ë¥¼ ê´€ë¦¬í•˜ëŠ” í†µí•© ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.

### ì „ì²´ êµ¬ì¡°

```
ì•½êµ­ë°°ìƒì±…ìž„ë³´í—˜ ì‹œìŠ¤í…œ
â”œâ”€â”€ 1. ê³ ê°ì‚¬ ê´€ë¦¬ìž ì‹œìŠ¤í…œ (imet.kr/hi/v2/)
â”‚   â”œâ”€â”€ ë¡œê·¸ì¸ íŽ˜ì´ì§€
â”‚   â””â”€â”€ ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ
â”‚
â”œâ”€â”€ 2. ì•½êµ­ ê°€ìž…ì‹ ì²­ ì‹œìŠ¤í…œ (imet.kr/drugstore/)
â”‚   â”œâ”€â”€ íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ (ìš´ì˜)
â”‚   â”œâ”€â”€ íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ ìœ ë¹„ì¼€ì–´ (ìš´ì˜)
â”‚   â””â”€â”€ ìœ ë¹„ì¼€ì–´ í…ŒìŠ¤íŠ¸
â”‚
â””â”€â”€ 3. í†µí•© ê´€ë¦¬ìž CMS (disk-cms.simg.kr/pharmacy/)
    â””â”€â”€ React ê¸°ë°˜ ê´€ë¦¬ ì‹œìŠ¤í…œ
```

### ì£¼ìš” ê¸°ëŠ¥
- ì•½êµ­ ë³´í—˜ ê°€ìž…ì‹ ì²­
- ë³´í—˜ë£Œ ì‹¤ì‹œê°„ ê³„ì‚°
- **ìžë™ ìŠ¹ì¸ ì²˜ë¦¬** (ìœ ë¹„ì¼€ì–´/ìœ ë¹„ì¼€ì–´í…ŒìŠ¤íŠ¸: ch=13)
- **ìˆ˜ë™ ìŠ¹ì¸ ì²˜ë¦¬** (íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸/íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸í…ŒìŠ¤íŠ¸: ch=10)
- ì˜ˆì¹˜ê¸ˆ ê´€ë¦¬
- ì •ì‚° ê´€ë¦¬
- ìƒíƒœ ë³€ê²½ ë° ì›Œí¬í”Œë¡œìš° ê´€ë¦¬

**ì—…ì²´ë³„ ì²˜ë¦¬ ë°©ì‹**:
- **íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸**: `submit.php` â†’ ìˆ˜ë™ ìŠ¹ì¸ (ê´€ë¦¬ìž ìŠ¹ì¸ í•„ìš”)
- **ìœ ë¹„ì¼€ì–´**: `ubcareSubmit.php` â†’ ìžë™ ìŠ¹ì¸ (ì¦‰ì‹œ ìŠ¹ì¸ ì²˜ë¦¬)

---

## íŽ˜ì´ì§€ êµ¬ì¡° ë° ìš©ë„

### 1. ê³ ê°ì‚¬ ê´€ë¦¬ìž ì‹œìŠ¤í…œ (`imet.kr/hi/v2/`)

#### ë¡œê·¸ì¸ íŽ˜ì´ì§€ (`login.html`)
- **URL**: https://imet.kr/hi/v2/login.html
- **ìš©ë„**: ê³ ê°ì‚¬ ê´€ë¦¬ìž ë¡œê·¸ì¸
- **ê¸°ëŠ¥**: ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸, ì„¸ì…˜ ê´€ë¦¬, API v2 ì¸ì¦ (HMAC-SHA256)

#### ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ (`dashboard.html`)
- **URL**: https://imet.kr/hi/v2/dashboard.html
- **ìš©ë„**: ê³ ê°ì‚¬ ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ
- **ê¸°ëŠ¥**:
  - ì•½êµ­ ì‹ ì²­ ëª©ë¡ ì¡°íšŒ
  - ì‹ ì²­ ìƒì„¸ ì •ë³´ í™•ì¸
  - ìƒíƒœ ë³€ê²½ (ìŠ¹ì¸, ë³´ë¥˜, í•´ì§€ ë“±)
  - ì˜ˆì¹˜ê¸ˆ í˜„í™© ì¡°íšŒ
  - ì˜ˆì¹˜ê¸ˆ ì¶©ì „/ë¦¬ìŠ¤íŠ¸/ì‚¬ìš©ë‚´ì—­
  - ì¼ì¼ ë³´ê³ ì„œ
  - ì›”ë³„ í†µê³„

### 2. ì•½êµ­ ê°€ìž…ì‹ ì²­ ì‹œìŠ¤í…œ (`imet.kr/drugstore/`)

#### ì§€ì› ì—…ì²´ë³„ íŽ˜ì´ì§€

| ì—…ì²´ | URL | API | ìŠ¹ì¸ ë°©ì‹ | íŠ¹ì§• |
|------|-----|-----|----------|------|
| íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ | `https://imet.kr/drugstore/pharmacy/` | `submit.php` | ìˆ˜ë™ ìŠ¹ì¸ (ch=10) | ìš´ì˜ í™˜ê²½, ê´€ë¦¬ìž ìŠ¹ì¸ í•„ìš” |
| íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ í…ŒìŠ¤íŠ¸ | `https://imet.kr/drugstore/pharmacyTest/` | `submit.php` | ìˆ˜ë™ ìŠ¹ì¸ (ch=10) | ê°œë°œ/í…ŒìŠ¤íŠ¸, ê´€ë¦¬ìž ìŠ¹ì¸ í•„ìš” |
| ìœ ë¹„ì¼€ì–´ | `https://imet.kr/drugstore/ubcare/` | `ubcareSubmit.php` | ìžë™ ìŠ¹ì¸ (ch=13) | ìš´ì˜ í™˜ê²½, ì¦‰ì‹œ ìŠ¹ì¸ ì²˜ë¦¬ |
| ìœ ë¹„ì¼€ì–´ í…ŒìŠ¤íŠ¸ | `https://imet.kr/drugstore/ubcareTest/` | `ubcareSubmit.php` | ìžë™ ìŠ¹ì¸ (ch=13) | ê°œë°œ/í…ŒìŠ¤íŠ¸, ì¦‰ì‹œ ìŠ¹ì¸ ì²˜ë¦¬ |

**ì£¼ìš” ì°¨ì´ì **:
- **íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸**: `submit.php` ì‚¬ìš© â†’ ìˆ˜ë™ ìŠ¹ì¸ ëª¨ë“œ (ch=10) â†’ ê´€ë¦¬ìžê°€ disk-cmsì—ì„œ ìŠ¹ì¸ í•„ìš”
- **ìœ ë¹„ì¼€ì–´**: `ubcareSubmit.php` ì‚¬ìš© â†’ ìžë™ ìŠ¹ì¸ ëª¨ë“œ (ch=13) â†’ ì‹ ì²­ ì‹œ ì¦‰ì‹œ ìŠ¹ì¸ ì²˜ë¦¬

#### ê³µí†µ ê¸°ëŠ¥
- ë³´í—˜ë£Œ ì‹¤ì‹œê°„ ê³„ì‚°
- ê°€ìž…ì‹ ì²­ ì œì¶œ
- ìœ íš¨ì„± ê²€ì¦ (ì£¼ë¯¼ë²ˆí˜¸, ì‚¬ì—…ìžë²ˆí˜¸ ë“±)
- ë°˜ì‘í˜• ë””ìžì¸ (ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬íƒ‘)
- ìžë™ í¬ë§·íŒ… (ì „í™”ë²ˆí˜¸, ì‚¬ì—…ìžë²ˆí˜¸ ë“±)

### 3. í†µí•© ê´€ë¦¬ìž CMS (`disk-cms-react/src/pages/pharmacy/`)

#### ì‹ ì²­ ëª©ë¡ ê´€ë¦¬ (`Applications.tsx`)
- **URL**: https://disk-cms.simg.kr/pharmacy/applications
- **ìš©ë„**: ì „ì²´ ì•½êµ­ ì‹ ì²­ ëª©ë¡ ì¡°íšŒ ë° ê´€ë¦¬
- **ê¸°ëŠ¥**:
  - ì‹ ì²­ ëª©ë¡ ì¡°íšŒ (íŽ˜ì´ì§€ë„¤ì´ì…˜, í•„í„°ë§, ê²€ìƒ‰)
  - ìƒíƒœë³„ í•„í„°ë§
  - ê±°ëž˜ì²˜ë³„ í•„í„°ë§
  - ì‹ ì²­ ìƒì„¸ë³´ê¸°/ìˆ˜ì •
  - ìƒíƒœ ë³€ê²½ (ìŠ¹ì¸, ë³´ë¥˜, í•´ì§€ ë“±)
  - ì˜ˆì¹˜ê¸ˆ í˜„í™© ì¡°íšŒ
  - ì¼ì¼ ë³´ê³ ì„œ
  - ì—…ì²´ ì¶”ê°€
  - API í‚¤ ê´€ë¦¬

#### ì»´í¬ë„ŒíŠ¸ ëª¨ë‹¬ë“¤
- `PharmacyDetailModal.tsx`: ì‹ ì²­ ìƒì„¸ë³´ê¸°/ìˆ˜ì •
- `DepositBalanceModal.tsx`: ì˜ˆì¹˜ê¸ˆ í˜„í™© ì¡°íšŒ
- `DepositChargeModal.tsx`: ì˜ˆì¹˜ê¸ˆ ì¶©ì „
- `DepositListModal.tsx`: ì˜ˆì¹˜ê¸ˆ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
- `DepositUsageModal.tsx`: ì˜ˆì¹˜ê¸ˆ ì‚¬ìš©ë‚´ì—­ ì¡°íšŒ
- `ApiManagerModal.tsx`: API í‚¤ ê´€ë¦¬
- `AddCompanyModal.tsx`: ì—…ì²´ ì¶”ê°€
- `DailyReportModal.tsx`: ì¼ì¼ ë³´ê³ ì„œ

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ì•„í‚¤í…ì²˜ íë¦„

```
ì‚¬ìš©ìž (ì•½êµ­)
    â†“
imet.kr/drugstore/ (ê°€ìž…ì‹ ì²­ ì‹œìŠ¤í…œ)
    â”œâ”€â”€ pharmacy/ (íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”œâ”€â”€ pharmacyTest/ (íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ í…ŒìŠ¤íŠ¸) â”€â”¤
    â”œâ”€â”€ ubcare/ (ìœ ë¹„ì¼€ì–´) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â””â”€â”€ ubcareTest/ (ìœ ë¹„ì¼€ì–´ í…ŒìŠ¤íŠ¸) â”€â”€â”€â”€â”€â”€â”¤
    â†“                                        â”‚
    â”œâ”€ [íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ ê²½ë¡œ]                    â”‚
    â”‚  imet.kr/drugstore/api/submit.php      â”‚
    â”‚  â†’ pharmacyApply ì €ìž¥                  â”‚
    â”‚  â†’ ë©”ì¼ ë°œì†¡ (ch=10, ìˆ˜ë™ ìŠ¹ì¸ ëŒ€ê¸°)    â”‚
    â”‚                                        â”‚
    â””â”€ [ìœ ë¹„ì¼€ì–´ ê²½ë¡œ]                        â”‚
       imet.kr/drugstore/api/ubcareSubmit.phpâ”‚
       â†’ pharmacyApply ì €ìž¥                  â”‚
       â†’ ìžë™ ìŠ¹ì¸ ì²˜ë¦¬ (ch=13)              â”‚
       â†’ imet.kr/hi/api/pharmacy-status-update_v2.php
       â†’ ì˜ˆì¹˜ê¸ˆ ì°¨ê°, ì •ì‚° ê¸°ë¡ ìƒì„±         â”‚
    â†“                                        â”‚
MySQL ë°ì´í„°ë² ì´ìŠ¤                           â”‚
    â”œâ”€â”€ pharmacyApply (ì‹ ì²­ ì •ë³´)            â”‚
    â”œâ”€â”€ pharmacy_idList (ì—…ì²´ ì •ë³´)          â”‚
    â”œâ”€â”€ pharmacy_deposit (ì˜ˆì¹˜ê¸ˆ)            â”‚
    â””â”€â”€ pharmacy_settlementList (ì •ì‚° ê¸°ë¡)  â”‚
    â†“                                        â”‚
disk-cms.simg.kr/pharmacy/applications (ê´€ë¦¬ìž CMS)
    â””â”€â”€ Applications.tsx (ì‹ ì²­ ëª©ë¡ ê´€ë¦¬)    â”‚
                                            â”‚
[íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ ìˆ˜ë™ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    ê´€ë¦¬ìžê°€ disk-cmsì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ìŠ¹ì¸ ì²˜ë¦¬
    â†’ imet.kr/hi/api/pharmacy-status-update_v2.php
    â†’ ì˜ˆì¹˜ê¸ˆ ì°¨ê°, ì •ì‚° ê¸°ë¡ ìƒì„±
```

### ê¸°ìˆ  ìŠ¤íƒ

#### í”„ë¡ íŠ¸ì—”ë“œ
- **ê³ ê°ì‚¬ ê´€ë¦¬ìž**: HTML5, CSS3, JavaScript (ES6+)
- **ì•½êµ­ ì‹ ì²­**: HTML5, CSS3, JavaScript (ES6+)
- **í†µí•© ê´€ë¦¬ìž**: React 18.3+, TypeScript, Ant Design

#### ë°±ì—”ë“œ
- **API**: PHP 5.5+ (í˜¸í™˜ì„± ê³ ë ¤)
- **ë°ì´í„°ë² ì´ìŠ¤**: MySQL
- **í”„ë¡ì‹œ ì„œë²„**: Node.js + Express.js

### íŒŒì¼ êµ¬ì¡°

```
imet/
â”œâ”€â”€ hi/v2/                    # ê³ ê°ì‚¬ ê´€ë¦¬ìž ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ login.html
â”‚   â”œâ”€â”€ dashboard.html
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ login_v2.php
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”‚
â”œâ”€â”€ drugstore/                # ì•½êµ­ ê°€ìž…ì‹ ì²­ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ pharmacy/             # íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ (ìˆ˜ë™ ìŠ¹ì¸)
â”‚   â”œâ”€â”€ pharmacyTest/         # íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ í…ŒìŠ¤íŠ¸ (ìˆ˜ë™ ìŠ¹ì¸)
â”‚   â”œâ”€â”€ ubcare/               # ìœ ë¹„ì¼€ì–´ (ìžë™ ìŠ¹ì¸)
â”‚   â”œâ”€â”€ ubcareTest/           # ìœ ë¹„ì¼€ì–´ í…ŒìŠ¤íŠ¸ (ìžë™ ìŠ¹ì¸)
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ calculate.php    # ë³´í—˜ë£Œ ê³„ì‚° (ê³µí†µ)
â”‚   â”‚   â”œâ”€â”€ submit.php       # íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸ ì‹ ì²­ ì²˜ë¦¬ (ìˆ˜ë™ ìŠ¹ì¸)
â”‚   â”‚   â””â”€â”€ ubcareSubmit.php # ìœ ë¹„ì¼€ì–´ ì‹ ì²­ ì²˜ë¦¬ (ìžë™ ìŠ¹ì¸)
â”‚   â””â”€â”€ common/
â”‚
â”œâ”€â”€ hi/api/                   # API v2 ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ list_v2.php
â”‚   â”œâ”€â”€ detail_v2.php
â”‚   â”œâ”€â”€ pharmacy-status-update_v2.php
â”‚   â”œâ”€â”€ pharmacy-premium-calculate_v2.php
â”‚   â”œâ”€â”€ balance_v2.php
â”‚   â”œâ”€â”€ deposit_balance_v2.php
â”‚   â”œâ”€â”€ daily_stats_v2.php
â”‚   â””â”€â”€ monthly_stats_v2.php
â”‚
â””â”€â”€ api/pharmacy/             # ê¸°íƒ€ API ì—”ë“œí¬ì¸íŠ¸
    â”œâ”€â”€ pharmacy-list.php
    â”œâ”€â”€ pharmacy-deposit-*.php
    â””â”€â”€ ...

disk-cms-react/
â”œâ”€â”€ src/pages/pharmacy/       # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ Applications.tsx
â”‚   â””â”€â”€ components/
â”‚
â””â”€â”€ routes/pharmacy/          # Node.js í”„ë¡ì‹œ
    â”œâ”€â”€ pharmacy2.js
    â”œâ”€â”€ deposits.js
    â”œâ”€â”€ admin.js
    â””â”€â”€ reports.js
```

---

## API ë¬¸ì„œ

### API v2 ê°œìš”

ì•½êµ­ì•ˆì‹¬ë³´í—˜ API v2ëŠ” HMAC ì¸ì¦ ê¸°ë°˜ì˜ RESTful APIìž…ë‹ˆë‹¤.

#### ì£¼ìš” íŠ¹ì§•
- **HMAC-SHA256 ì¸ì¦**: API í‚¤ì™€ ì„œëª… ê¸°ë°˜ ë³´ì•ˆ ì¸ì¦
- **JSON ìž…ì¶œë ¥**: í‘œì¤€ JSON í˜•ì‹ì˜ ìš”ì²­/ì‘ë‹µ
- **íŠ¸ëžœìž­ì…˜ ì§€ì›**: ë°ì´í„° ë¬´ê²°ì„± ë³´ìž¥
- **ì„¸ì…˜ ë¶„ë¦¬**: ê¸°ì¡´ ì›¹ ì‹œìŠ¤í…œê³¼ ì™„ì „ ë…ë¦½

#### ì¸ì¦ ë°©ì‹

ëª¨ë“  API ìš”ì²­ì€ ë‹¤ìŒ í—¤ë”ê°€ í•„ìš”í•©ë‹ˆë‹¤:

```http
Authorization: Bearer {api_key}
X-Timestamp: {unix_timestamp}
X-Signature: {hmac_signature}
Content-Type: application/json
```

#### ì„œëª… ìƒì„± ë°©ë²•

```javascript
const crypto = require('crypto');

// 1. ìš”ì²­ ë³¸ë¬¸ì„ JSON ë¬¸ìžì—´ë¡œ ë³€í™˜
const requestBody = JSON.stringify(payload);

// 2. ì„œëª…ìš© ë¬¸ìžì—´ ìƒì„±
const stringToSign = `${method}\n${path}\n${timestamp}\n${requestBody}`;

// 3. HMAC-SHA256 ì„œëª… ìƒì„±
const signature = crypto
  .createHmac('sha256', secretKey)
  .update(stringToSign, 'utf8')
  .digest('hex');
```

### ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

#### 1. ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/list_v2.php`
- **ê¸°ëŠ¥**: ì•½êµ­ ë³´í—˜ ì‹ ì²­ìž ëª©ë¡ ì¡°íšŒ
- **íŒŒë¼ë¯¸í„°**: `section`, `chchange`, `filter_type`, `filter_query`, `page`, `pageSize`

#### 2. ìƒì„¸ ì¡°íšŒ
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/detail_v2.php`
- **ê¸°ëŠ¥**: íŠ¹ì • ì•½êµ­ì˜ ìƒì„¸ ì •ë³´ ì¡°íšŒ
- **íŒŒë¼ë¯¸í„°**: `section`, `item_num`

#### 3. ìƒíƒœ ë³€ê²½
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/pharmacy-status-update_v2.php`
- **ê¸°ëŠ¥**: ì•½êµ­ì˜ ì²˜ë¦¬ ìƒíƒœ ë³€ê²½
- **íŒŒë¼ë¯¸í„°**: `item_num`, `new_status`
- **íŠ¹ë³„ ì²˜ë¦¬**:
  - ìŠ¹ì¸(13): ì˜ˆì¹˜ê¸ˆ ì°¨ê°, ì •ì‚° ê¸°ë¡ ìƒì„±, ì´ë©”ì¼ ë°œì†¡
  - ë³´ë¥˜(7): ì˜ˆì¹˜ê¸ˆ í™˜ê¸‰, ì •ì‚° ê¸°ë¡ ë³€ê²½
  - í•´ì§€ì™„ë£Œ(16): ì¼í•  ê³„ì‚°ìœ¼ë¡œ í™˜ê¸‰

#### 4. ê¸°ë³¸ì •ë³´ ìˆ˜ì •
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/pharmacyApply-num-update_v2.php`
- **ê¸°ëŠ¥**: ì•½êµ­ì˜ ê¸°ë³¸ ì •ë³´ ìˆ˜ì •
- **íŒŒë¼ë¯¸í„°**: `item_num`, `company`, `email`, `mobile_phone`, `memo` ë“±

#### 5. ë³´í—˜ë£Œ ê³„ì‚°
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/pharmacy-premium-calculate_v2.php`
- **ê¸°ëŠ¥**: ì•½êµ­ì˜ ë³´í—˜ë£Œ ê³„ì‚° ë° ì—…ë°ì´íŠ¸
- **íŒŒë¼ë¯¸í„°**: `item_num`, `expert_count`, `inventory_value`, `business_area`

#### 6. ìž”ê³  ì¡°íšŒ
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/balance_v2.php`
- **ê¸°ëŠ¥**: ê³„ì •ì˜ í˜„ìž¬ ì˜ˆì¹˜ê¸ˆ ìž”ê³  ì¡°íšŒ

#### 7. ì˜ˆì¹˜ê¸ˆ ë‚´ì—­ ì¡°íšŒ
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/deposit_balance_v2.php`
- **ê¸°ëŠ¥**: ì˜ˆì¹˜ê¸ˆ ìž…ê¸ˆ ë‚´ì—­ ì¡°íšŒ (íŽ˜ì´ì§€ë„¤ì´ì…˜ ì§€ì›)

#### 8. ì¼ë³„ ì‹¤ì  ì¡°íšŒ
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/daily_stats_v2.php`
- **ê¸°ëŠ¥**: ì¼ë³„ ìŠ¹ì¸/í•´ì§€ ì‹¤ì  ì¡°íšŒ

#### 9. ì›”ë³„ ì‹¤ì  ì¡°íšŒ
- **ì—”ë“œí¬ì¸íŠ¸**: `POST https://imet.kr/hi/api/monthly_stats_v2.php`
- **ê¸°ëŠ¥**: 3ê°œë…„ ì›”ë³„ ìŠ¹ì¸/í•´ì§€ ì‹¤ì  ì¡°íšŒ

### API ê²€ì¦ í¬í„¸

- **URL**: https://imet.kr/hi/api/verification/
- **ê¸°ëŠ¥**: ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•© ê´€ë¦¬í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìžˆëŠ” ì¤‘ì•™ í—ˆë¸Œ

---

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”

#### 1. pharmacyApply
ì•½êµ­ ì‹ ì²­ ì •ë³´ë¥¼ ì €ìž¥í•˜ëŠ” ë©”ì¸ í…Œì´ë¸”ìž…ë‹ˆë‹¤.

**ì£¼ìš” í•„ë“œ**:
- `num`: ì‹ ì²­ ë²ˆí˜¸ (PK)
- `company`: íšŒì‚¬ëª…
- `school2`: ì•½êµ­ëª…
- `damdangja`: ë‹´ë‹¹ìžëª…
- `hphone`, `hphone2`: ì—°ë½ì²˜
- `chemist`: ì•½ì‚¬ ì •ë³´
- `chemistDesignNumer`: ì•½ì‚¬ ì„¤ê³„ ë²ˆí˜¸
- `area`: ì§€ì—­
- `areaDesignNumer`: ì§€ì—­ ì„¤ê³„ ë²ˆí˜¸
- `ch`: ìƒíƒœ ì½”ë“œ (1~17)
- `preminum`: ë³´í—˜ë£Œ
- `account`: ì—…ì²´ ë²ˆí˜¸ (pharmacy_idListì™€ ì—°ê²°)
- `wdate`: ìµœì´ˆ ìž…ë ¥ ì‹œê°„ (ì‹ ì²­ì¼)
- `wdate_2`: ìƒíƒœ ë³€ê²½ì¼ (ë©”ì¼ ë³´ëƒ„, ìŠ¹ì¸ ë“± ìƒíƒœ ë³€ê²½ ì‹œì )
- `wdate_3`: ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ì¼ (ì¦ê¶Œë°œê¸‰ì¼)
- `memo`: ë©”ëª¨

**ìƒíƒœ ì½”ë“œ (ch)**:
- `1`: ì ‘ìˆ˜
- `2`: ë³´í—˜ë£Œ
- `3`: ì²­ì•½ì„œì•ˆë‚´
- `4`: ìží•„ì„œë¥˜
- `5`: ìž…ê¸ˆí™•ì¸
- `6`: ê³„ì•½ì™„ë£Œ
- `7`: ë³´ë¥˜
- `8`: ì¹´ë“œìŠ¹ì¸
- `9`: ë‹¨ìˆœì‚°ì¶œ
- `10`: ë©”ì¼ ë³´ëƒ„
- `11`: ì§ˆë¬¸ì„œë°›ìŒ
- `12`: í•´í”¼ì½œ
- `13`: ìŠ¹ì¸
- `14`: ì¦ê¶Œë°œê¸‰
- `15`: í•´ì§€ìš”ì²­
- `16`: í•´ì§€ì™„ë£Œ
- `17`: ì„¤ê³„ì¤‘

#### 2. pharmacy_idList
ì•½êµ­ ì—…ì²´ ì •ë³´ë¥¼ ì €ìž¥í•˜ëŠ” í…Œì´ë¸”ìž…ë‹ˆë‹¤.

**ì£¼ìš” í•„ë“œ**:
- `num`: ì—…ì²´ ë²ˆí˜¸ (PK)
- `directory`: ë””ë ‰í† ë¦¬ ê²½ë¡œ (pharmacy, ubcare, pharmacyTest, ubcareTest)
- `mem_id`: ì‚¬ìš©ìž ì•„ì´ë””
- `passwd`: ë¹„ë°€ë²ˆí˜¸ (MD5 í•´ì‹œ)
- `name`: ì—…ì²´ëª…
- `hphone1`: ì—°ë½ì²˜
- `ch`: ì²˜ë¦¬ ëª¨ë“œ (10=ìˆ˜ë™, 13=ìžë™)
- `api_key`: API í‚¤ (pk_...)
- `api_secret`: API ì‹œí¬ë¦¿ í•´ì‹œ (SHA256)
- `api_enabled`: API í™œì„±í™” ì—¬ë¶€ (0/1)
- `api_expires`: API ë§Œë£Œì¼
- `wdate`: ë“±ë¡ì¼

**pharmacy_idList ì¡°íšŒ í”„ë¡œì„¸ìŠ¤**:
1. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ URL ê²½ë¡œì—ì„œ `directory` ê°’ ì¶”ì¶œ
2. `ubcareSubmit.php`ì—ì„œ `pharmacy_idList` ì¡°íšŒ
3. ì—…ì²´ ë“±ë¡ ì—¬ë¶€ í™•ì¸
4. `account` ê°’ ì„¤ì • (`pharmacyApply.account = pharmacy_idList.num`)
5. ì²˜ë¦¬ ëª¨ë“œ ê²°ì • (`ch` ê°’ì— ë”°ë¼ ìžë™/ìˆ˜ë™ ìŠ¹ì¸)
6. API ì¸ì¦ ì •ë³´ íšë“ (ìžë™ ìŠ¹ì¸ ì‹œ ì‚¬ìš©)

#### 3. pharmacy_deposit
ì˜ˆì¹˜ê¸ˆ ê±°ëž˜ ë‚´ì—­ì„ ì €ìž¥í•˜ëŠ” í…Œì´ë¸”ìž…ë‹ˆë‹¤.

**ì£¼ìš” í•„ë“œ**:
- `num`: ê±°ëž˜ ë²ˆí˜¸ (PK)
- `account`: ì—…ì²´ ë²ˆí˜¸
- `money`: ê¸ˆì•¡ (ì–‘ìˆ˜: ìž…ê¸ˆ, ìŒìˆ˜: ì¶œê¸ˆ)
- `sort`: ê±°ëž˜ ìœ í˜• ì½”ë“œ
- `wdate`: ê±°ëž˜ì¼

**ê±°ëž˜ ìœ í˜• (sort)**:
- `98`: í˜„ìž¬ ìž”ê³  (ìµœì‹ ê°’)
- `99`: ì˜ˆì¹˜ê¸ˆ ìž…ê¸ˆ
- `13`: ìŠ¹ì¸ ì‹œ ì˜ˆì¹˜ê¸ˆ ì°¨ê° (ìŒìˆ˜)
- `7`: ë³´ë¥˜ ì‹œ ì˜ˆì¹˜ê¸ˆ í™˜ê¸‰

#### 4. pharmacy_settlementList
ì •ì‚° ê¸°ë¡ì„ ì €ìž¥í•˜ëŠ” í…Œì´ë¸”ìž…ë‹ˆë‹¤.

**ì£¼ìš” í•„ë“œ**:
- `num`: ì •ì‚° ë²ˆí˜¸ (PK)
- `applyNum`: ì‹ ì²­ ë²ˆí˜¸ (pharmacyApply.num)
- `account`: ì—…ì²´ ë²ˆí˜¸
- `sort`: ì •ì‚° ìœ í˜• ì½”ë“œ
- `approvalPreminum`: ìŠ¹ì¸ ë³´í—˜ë£Œ
- `proPreminum`: ì „ë¬¸ì¸ ë³´í—˜ë£Œ
- `areaPreminum`: í™”ìž¬ ë³´í—˜ë£Œ
- `wdate`: ì •ì‚°ì¼

**ì •ì‚° ìœ í˜• (sort)**:
- `13`: ìŠ¹ì¸
- `7`: ë³´ë¥˜
- `16`: í•´ì§€ì™„ë£Œ

### í…Œì´ë¸” ê°„ ê´€ê³„

```
pharmacy_idList (ì—…ì²´)
    â”‚
    â”‚ 1:N
    â”‚
    â”œâ”€â”€â”€ pharmacyApply (ì‹ ì²­) â”€â”€â”€â”€â”
    â”‚         â”‚                    â”‚
    â”‚         â”‚ 1:N                â”‚ 1:N
    â”‚         â”‚                    â”‚
    â”‚         â”‚                    â”‚
    â””â”€â”€â”€ pharmacy_deposit (ì˜ˆì¹˜ê¸ˆ) â”‚
                                   â”‚
                         pharmacy_settlementList (ì •ì‚°)
```

---

## ê°œë°œ ê³„íš

### í˜„ìž¬ êµ¬í˜„ ìƒíƒœ

#### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- ì•½êµ­ ê°€ìž…ì‹ ì²­ í¼ (`imet.kr/drugstore/`)
- ë³´í—˜ë£Œ ì‹¤ì‹œê°„ ê³„ì‚°
- ì‹ ì²­ ë°ì´í„° ì €ìž¥ (`pharmacyApply`)
- ìžë™ ìŠ¹ì¸ ì²˜ë¦¬ (ìœ ë¹„ì¼€ì–´/ìœ ë¹„ì¼€ì–´í…ŒìŠ¤íŠ¸)
- ì´ë©”ì¼ ë°œì†¡
- ì‹ ì²­ ëª©ë¡ ì¡°íšŒ (`disk-cms.simg.kr/pharmacy/applications`)
- ì‹ ì²­ ìƒì„¸ë³´ê¸°/ìˆ˜ì • (`PharmacyDetailModal.tsx`)
- ìƒíƒœ ë³€ê²½ (ìŠ¹ì¸, ë³´ë¥˜, í•´ì§€ ë“±)
- ì˜ˆì¹˜ê¸ˆ í˜„í™© ì¡°íšŒ (`DepositBalanceModal.tsx`)
- ì˜ˆì¹˜ê¸ˆ ì¶©ì „ (`DepositChargeModal.tsx`)
- ì˜ˆì¹˜ê¸ˆ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ (`DepositListModal.tsx`)
- ì˜ˆì¹˜ê¸ˆ ì‚¬ìš©ë‚´ì—­ ì¡°íšŒ (`DepositUsageModal.tsx`)
- API í‚¤ ê´€ë¦¬ (`ApiManagerModal.tsx`)
- ì—…ì²´ ì¶”ê°€ (`AddCompanyModal.tsx`)
- ìž”ê³  ë¶€ì¡± ì‹œì—ë„ ì •ì‚° ê¸°ë¡ ìƒì„± ë° ì˜ˆì¹˜ê¸ˆ ì°¨ê° ì²˜ë¦¬ (2026-01-09 ê°œì„ )

#### âš ï¸ ê°œì„  í•„ìš” ì‚¬í•­
- ìƒíƒœ ë³€ê²½ ì‹œ í™•ì¸ ëª¨ë‹¬ ê°œì„ 
- í•´ì§€ ì²˜ë¦¬ ì‹œ ì¼í•  ê³„ì‚° ëª¨ë‹¬ ì¶”ê°€
- ë³´ë¥˜ ì²˜ë¦¬ ì‹œ í™˜ê¸‰ í™•ì¸ ëª¨ë‹¬ ì¶”ê°€
- ì›”ê°„ ë³´ê³ ì„œ ê¸°ëŠ¥ ì™„ì„±
- í†µê³„ ëŒ€ì‹œë³´ë“œ êµ¬í˜„
- ì•Œë¦¼ ì‹œìŠ¤í…œ (ì˜ˆì¹˜ê¸ˆ ë¶€ì¡± ì•Œë¦¼ ë“±)

### ìš°ì„ ìˆœìœ„ë³„ ê°œë°œ ê³„íš

#### Phase 1: í•µì‹¬ ê¸°ëŠ¥ ì™„ì„± (ìš°ì„ ìˆœìœ„ ë†’ìŒ)
1. ìƒíƒœ ë³€ê²½ ì›Œí¬í”Œë¡œìš° ê°œì„  (1ì£¼)
2. ì˜ˆì¹˜ê¸ˆ ê´€ë¦¬ ê°œì„  (1ì£¼)
3. ë³´ê³ ì„œ ê¸°ëŠ¥ ì™„ì„± (1ì£¼)

#### Phase 2: ì‚¬ìš©ìž ê²½í—˜ ê°œì„  (ìš°ì„ ìˆœìœ„ ì¤‘ê°„)
1. ëŒ€ì‹œë³´ë“œ êµ¬í˜„ (1ì£¼)
2. ê²€ìƒ‰ ë° í•„í„° ê°œì„  (3ì¼)
3. ì•Œë¦¼ ì‹œìŠ¤í…œ (1ì£¼)

#### Phase 3: ê³ ê¸‰ ê¸°ëŠ¥ (ìš°ì„ ìˆœìœ„ ë‚®ìŒ)
1. ìžë™í™” ê¸°ëŠ¥ (2ì£¼)
2. ë¶„ì„ ë° ë¦¬í¬íŠ¸ (2ì£¼)

---

## í•µì‹¬ í”„ë¡œì„¸ìŠ¤

### 1. ì•½êµ­ ê°€ìž…ì‹ ì²­ í”„ë¡œì„¸ìŠ¤

#### íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸/íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸í…ŒìŠ¤íŠ¸ (ìˆ˜ë™ ìŠ¹ì¸)

```
1. ì•½êµ­ì´ imet.kr/drugstore/pharmacy/ ë˜ëŠ” pharmacyTest/ ì ‘ì†
   â†“
2. ë³´í—˜ë£Œ ì‹¤ì‹œê°„ ê³„ì‚° (imet.kr/drugstore/api/calculate.php)
   â†“
3. ê°€ìž…ì‹ ì²­ ì œì¶œ (imet.kr/drugstore/api/submit.php)
   â†“
4. pharmacy_idList ì¡°íšŒ (directory='pharmacy' ë˜ëŠ” 'pharmacyTest')
   - ì—…ì²´ ë“±ë¡ ì—¬ë¶€ í™•ì¸
   - account ê°’ ì„¤ì •
   - ì²˜ë¦¬ ëª¨ë“œ í™•ì¸ (ch=10, ìˆ˜ë™ ìŠ¹ì¸ ëª¨ë“œ)
   â†“
5. pharmacyApply í…Œì´ë¸”ì— ì‹ ì²­ ë°ì´í„° ì €ìž¥
   - ìƒíƒœ: ch=10 (ë©”ì¼ ë³´ëƒ„)
   â†“
6. ì´ë©”ì¼ ë°œì†¡ (ê´€ë¦¬ìžì—ê²Œ ì•Œë¦¼)
   â†“
7. ê´€ë¦¬ìžê°€ disk-cms.simg.kr/pharmacy/applicationsì—ì„œ ìˆ˜ë™ ìŠ¹ì¸
   - imet.kr/hi/api/pharmacy-status-update_v2.php í˜¸ì¶œ
   - ìƒíƒœ ë³€ê²½: ch=10 â†’ ch=13 (ìŠ¹ì¸)
   - ì˜ˆì¹˜ê¸ˆ ì°¨ê° (pharmacy_deposit)
   - ì •ì‚° ê¸°ë¡ ìƒì„± (pharmacy_settlementList)
```

#### ìœ ë¹„ì¼€ì–´/ìœ ë¹„ì¼€ì–´í…ŒìŠ¤íŠ¸ (ìžë™ ìŠ¹ì¸)

```
1. ì•½êµ­ì´ imet.kr/drugstore/ubcare/ ë˜ëŠ” ubcareTest/ ì ‘ì†
   â†“
2. ë³´í—˜ë£Œ ì‹¤ì‹œê°„ ê³„ì‚° (imet.kr/drugstore/api/calculate.php)
   â†“
3. ê°€ìž…ì‹ ì²­ ì œì¶œ (imet.kr/drugstore/api/ubcareSubmit.php)
   â†“
4. pharmacy_idList ì¡°íšŒ (directory='ubcare' ë˜ëŠ” 'ubcareTest')
   - ì—…ì²´ ë“±ë¡ ì—¬ë¶€ í™•ì¸
   - account ê°’ ì„¤ì •
   - ì²˜ë¦¬ ëª¨ë“œ í™•ì¸ (ch=13, ìžë™ ìŠ¹ì¸ ëª¨ë“œ)
   - API í‚¤/ì‹œí¬ë¦¿ íšë“
   â†“
5. pharmacyApply í…Œì´ë¸”ì— ì‹ ì²­ ë°ì´í„° ì €ìž¥
   â†“
6. ìžë™ ìŠ¹ì¸ ì²˜ë¦¬ (ch=13ì¸ ê²½ìš°)
   - imet.kr/hi/api/pharmacy-status-update_v2.php ìžë™ í˜¸ì¶œ
   - HMAC ì¸ì¦ (API í‚¤/ì‹œí¬ë¦¿ ì‚¬ìš©)
   - ìƒíƒœ ë³€ê²½: ì¦‰ì‹œ ch=13 (ìŠ¹ì¸)
   - ì˜ˆì¹˜ê¸ˆ ì°¨ê° (pharmacy_deposit, sort=13)
   - ì •ì‚° ê¸°ë¡ ìƒì„± (pharmacy_settlementList, sort=13)
   - ì´ë©”ì¼ ë°œì†¡ (ìŠ¹ì¸ ì™„ë£Œ ì•Œë¦¼)
```

**ì£¼ìš” ì°¨ì´ì **:
- **íŒœíŽ˜ì´ìŠ¤ë§ˆíŠ¸**: `submit.php` ì‚¬ìš©, ìˆ˜ë™ ìŠ¹ì¸ (ch=10), ê´€ë¦¬ìž ìŠ¹ì¸ í•„ìš”
- **ìœ ë¹„ì¼€ì–´**: `ubcareSubmit.php` ì‚¬ìš©, ìžë™ ìŠ¹ì¸ (ch=13), ì¦‰ì‹œ ìŠ¹ì¸ ì²˜ë¦¬

### 2. ìƒíƒœ ë³€ê²½ í”„ë¡œì„¸ìŠ¤ (ìŠ¹ì¸)

```
1. ìƒíƒœ ë³€ê²½ ìš”ì²­ (imet.kr/hi/api/pharmacy-status-update_v2.php)
   â†“
2. í˜„ìž¬ ìƒíƒœ í™•ì¸
   â†“
3. ìŠ¹ì¸(13) ì²˜ë¦¬ ì‹œ:
   - ì˜ˆì¹˜ê¸ˆ ìž”ê³  í™•ì¸ (pharmacy_deposit, sort=98)
   - ë³´í—˜ë£Œ ì°¨ê° (pharmacy_deposit, sort=13, ìŒìˆ˜)
   - ì •ì‚° ê¸°ë¡ ìƒì„± (pharmacy_settlementList, sort=13)
   - ìž”ê³  ì—…ë°ì´íŠ¸ (pharmacy_deposit, sort=98)
   - ìƒíƒœ ë³€ê²½ (pharmacyApply.ch = 13)
   - ì´ë©”ì¼ ë°œì†¡
   â†“
4. ìž”ê³  ë¶€ì¡± ì‹œ:
   - ë§ˆì´ë„ˆìŠ¤ ìž”ê³  í—ˆìš© (2026-01-09 ê°œì„ )
   - ì •ì‚° ê¸°ë¡ì€ ë°˜ë“œì‹œ ìƒì„±
   - ê²½ê³  ë©”ì‹œì§€ ë°˜í™˜
```

### 3. ìƒíƒœ ë³€ê²½ í”„ë¡œì„¸ìŠ¤ (ë³´ë¥˜)

```
1. ìƒíƒœ ë³€ê²½ ìš”ì²­ (imet.kr/hi/api/pharmacy-status-update_v2.php)
   â†“
2. ìŠ¹ì¸(13) â†’ ë³´ë¥˜(7) ë³€ê²½ ì‹œ:
   - ì •ì‚° ê¸°ë¡ í™•ì¸ (pharmacy_settlementList, sort=13)
   - ì˜ˆì¹˜ê¸ˆ í™˜ê¸‰ (pharmacy_deposit, sort=7)
   - ì •ì‚° ê¸°ë¡ ë³€ê²½ (pharmacy_settlementList, sort=7)
   - ìƒíƒœ ë³€ê²½ (pharmacyApply.ch = 7)
```

### 4. ìƒíƒœ ë³€ê²½ í”„ë¡œì„¸ìŠ¤ (í•´ì§€ì™„ë£Œ)

```
1. ìƒíƒœ ë³€ê²½ ìš”ì²­ (imet.kr/hi/api/pharmacy-status-update_v2.php)
   â†“
2. í•´ì§€ìš”ì²­(15) â†’ í•´ì§€ì™„ë£Œ(16) ë³€ê²½ ì‹œ:
   - ì¼í•  ê³„ì‚° ìˆ˜í–‰
   - ê³µì‹: (ì¢…ê¸°-í•´ì§€ì¼)/(ì¢…ê¸°-ì‹œê¸°) Ã— ì´ë³´í—˜ë£Œ
   - ì˜ˆì¹˜ê¸ˆ í™˜ê¸‰ (pharmacy_deposit, sort=16)
   - ì •ì‚° ê¸°ë¡ ìƒì„± (pharmacy_settlementList, sort=16)
   - ìƒíƒœ ë³€ê²½ (pharmacyApply.ch = 16)
```

### 5. ê³ ê°ì‚¬ ê´€ë¦¬ìž í™•ì¸ í”„ë¡œì„¸ìŠ¤

```
1. ê³ ê°ì‚¬ ê´€ë¦¬ìž ë¡œê·¸ì¸ (imet.kr/hi/v2/login.html)
   â†“
2. ëŒ€ì‹œë³´ë“œ ì ‘ì† (imet.kr/hi/v2/dashboard.html)
   â†“
3. API í˜¸ì¶œ (HMAC ì¸ì¦)
   - imet.kr/hi/api/list_v2.php: ì‹ ì²­ ëª©ë¡ ì¡°íšŒ
   - imet.kr/hi/api/detail_v2.php: ì‹ ì²­ ìƒì„¸ ì¡°íšŒ
   - imet.kr/hi/api/pharmacy-status-update_v2.php: ìƒíƒœ ë³€ê²½
   - imet.kr/hi/api/balance_v2.php: ìž”ê³  ì¡°íšŒ
   - imet.kr/hi/api/deposit_balance_v2.php: ì˜ˆì¹˜ê¸ˆ ë‚´ì—­ ì¡°íšŒ
   - imet.kr/hi/api/daily_stats_v2.php: ì¼ë³„ ì‹¤ì  ì¡°íšŒ
   - imet.kr/hi/api/monthly_stats_v2.php: ì›”ë³„ ì‹¤ì  ì¡°íšŒ
```

### 6. ìŠ¹ì¸ í›„ ì„¤ê³„ë²ˆí˜¸ ë° ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ í”„ë¡œì„¸ìŠ¤

#### ì „ì²´ ì›Œí¬í”Œë¡œìš°

```
[ìŠ¹ì¸ ì™„ë£Œ (ch=13)]
    â†“
[ì„¤ê³„ë²ˆí˜¸ ìž…ë ¥]
    â”œâ”€ ì „ë¬¸ì¸ì„¤ê³„ë²ˆí˜¸ ìž…ë ¥ (chemistDesignNumer)
    â”œâ”€ í™”ìž¬ì„¤ê³„ë²ˆí˜¸ ìž…ë ¥ (areaDesignNumer)
    â””â”€ ìƒíƒœ ë³€ê²½: ch=17 (ì„¤ê³„ì¤‘)
    â””â”€ wdate, wdate_2: ë³€ë™ ì—†ìŒ
    â†“
[ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥]
    â”œâ”€ ì „ë¬¸ì¸ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ (chemistCerti)
    â”œâ”€ í™”ìž¬ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ (areaCerti)
    â”œâ”€ ìƒíƒœ ë³€ê²½: ch=14 (ì¦ê¶Œë°œê¸‰)
    â”œâ”€ wdate_2: NOW() ì—…ë°ì´íŠ¸ (ìƒíƒœ ë³€ê²½ì¼)
    â””â”€ wdate_3: CURDATE() ì„¤ì • (ì¦ê¶Œë°œê¸‰ì¼)
    â†“
[ì¦ê¶Œë°œê¸‰ ì™„ë£Œ]
```

#### 1ë‹¨ê³„: ì„¤ê³„ë²ˆí˜¸ ìž…ë ¥

**ìœ„ì¹˜**: `disk-cms-react/src/pages/pharmacy/components/PharmacyDetailModal.tsx`

**í”„ë¡œì„¸ìŠ¤**:
1. ê´€ë¦¬ìžê°€ ì•½êµ­ ìƒì„¸ ëª¨ë‹¬ì—ì„œ ì„¤ê³„ë²ˆí˜¸ ìž…ë ¥
2. ì „ë¬¸ì¸ì„¤ê³„ë²ˆí˜¸ ë˜ëŠ” í™”ìž¬ì„¤ê³„ë²ˆí˜¸ ìž…ë ¥ í›„ "ì„¤ê³„ë²ˆí˜¸ìž…ë ¥" ë²„íŠ¼ í´ë¦­
3. API í˜¸ì¶œ: `POST /api/pharmacy2/design-number`
   - í”„ë¡ì‹œ: `disk-cms-react/routes/pharmacy/pharmacy2.js`
   - ë°±ì—”ë“œ: `imet/api/pharmacy/pharmacy-design-update.php`

**ì—…ë°ì´íŠ¸ ë‚´ìš©**:
```sql
UPDATE pharmacyApply SET
    chemistDesignNumer = 'ì„¤ê³„ë²ˆí˜¸',  -- ë˜ëŠ” areaDesignNumer
    ch = '17'                        -- ì„¤ê³„ì¤‘ ìƒíƒœë¡œ ë³€ê²½
WHERE num = {pharmacyId}
```

**ë‚ ì§œ í•„ë“œ ë³€í™”**:
- `wdate`: ë³€ë™ ì—†ìŒ (ìµœì´ˆ ìž…ë ¥ ì‹œê°„ ìœ ì§€)
- `wdate_2`: ë³€ë™ ì—†ìŒ (ìƒíƒœ ë³€ê²½ì¼ ìœ ì§€)
- `wdate_3`: ë³€ë™ ì—†ìŒ (ì¦ê¶Œë°œê¸‰ì¼ì€ ì•„ì§ ì„¤ì • ì•ˆ ë¨)

#### 2ë‹¨ê³„: ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥

**ìœ„ì¹˜**: `disk-cms-react/src/pages/pharmacy/components/PharmacyDetailModal.tsx`

**í”„ë¡œì„¸ìŠ¤**:
1. ê´€ë¦¬ìžê°€ ì•½êµ­ ìƒì„¸ ëª¨ë‹¬ì—ì„œ ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥
2. ì „ë¬¸ì¸ì¦ê¶Œë²ˆí˜¸ ë˜ëŠ” í™”ìž¬ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ í›„ "ìž…ë ¥" ë²„íŠ¼ í´ë¦­
3. API í˜¸ì¶œ: `POST /api/pharmacy2/certificate-number`
   - í”„ë¡ì‹œ: `disk-cms-react/routes/pharmacy/pharmacy2.js`
   - ë°±ì—”ë“œ: `imet/api/pharmacy/pharmacy-certificate-update.php`

**ì—…ë°ì´íŠ¸ ë‚´ìš©**:
```sql
UPDATE pharmacyApply SET
    chemistCerti = 'ì¦ê¶Œë²ˆí˜¸',        -- ë˜ëŠ” areaCerti
    wdate_2 = NOW(),                 -- ìƒíƒœ ë³€ê²½ì¼ ì—…ë°ì´íŠ¸
    wdate_3 = CURDATE(),             -- ì¦ê¶Œë°œê¸‰ì¼ ì„¤ì •
    sigi = 'ë³´í—˜ì‹œê¸°',                -- ë³´í—˜ì‹œê¸° ìžë™ ê³„ì‚°
    jeonggi = 'ë³´í—˜ì¢…ê¸°',             -- ë³´í—˜ì¢…ê¸° ìžë™ ê³„ì‚° (ì‹œê¸°+1ë…„)
    ch = '14',                       -- ì¦ê¶Œë°œê¸‰ ìƒíƒœë¡œ ë³€ê²½
    certiCount = {ì¦ê¶Œë°œê¸‰íšŸìˆ˜}       -- ì¦ê¶Œë°œê¸‰ íšŸìˆ˜ ì¦ê°€
WHERE num = {pharmacyId}
```

**ë‚ ì§œ í•„ë“œ ë³€í™”**:
- `wdate`: ë³€ë™ ì—†ìŒ (ìµœì´ˆ ìž…ë ¥ ì‹œê°„ ìœ ì§€)
- `wdate_2`: `NOW()`ë¡œ ì—…ë°ì´íŠ¸ (ìƒíƒœ ë³€ê²½ì¼)
- `wdate_3`: `CURDATE()`ë¡œ ì„¤ì • (ì¦ê¶Œë°œê¸‰ì¼)

### 7. ë‚ ì§œ í•„ë“œ (wdate, wdate_2, wdate_3) ì˜ë¯¸

#### í•„ë“œë³„ ì˜ë¯¸

| í•„ë“œ | ì˜ë¯¸ | ì„¤ì • ì‹œì  | ìš©ë„ |
|------|------|-----------|------|
| `wdate` | **ìµœì´ˆ ìž…ë ¥ ì‹œê°„** (ì‹ ì²­ì¼) | ì•½êµ­ ì‹ ì²­ ìµœì´ˆ ìž…ë ¥ ì‹œ | ì‹ ì²­ì¼ ê¸°ì¤€ ì¡°íšŒ, í†µê³„ |
| `wdate_2` | **ìƒíƒœ ë³€ê²½ì¼** | ìƒíƒœ(`ch`) ë³€ê²½ ì‹œë§ˆë‹¤ ì—…ë°ì´íŠ¸ | ìƒíƒœ ë³€ê²½ ê¸°ì¤€ ì¡°íšŒ, ì‹¤ì  ì§‘ê³„ |
| `wdate_3` | **ì¦ê¶Œë°œê¸‰ì¼** | ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ ì‹œ ì„¤ì • | ì¦ê¶Œë°œê¸‰ ê¸°ì¤€ ì¡°íšŒ, ì‹¤ì  ì§‘ê³„ |

#### ì„¤ì • ì‹œì  ìƒì„¸

**wdate (ìµœì´ˆ ìž…ë ¥ ì‹œê°„)**:
- ì•½êµ­ ì‹ ì²­ ìµœì´ˆ ìž…ë ¥ ì‹œ `NOW()`ë¡œ ì„¤ì •
- ì´í›„ ë³€ê²½ë˜ì§€ ì•ŠìŒ
- `INSERT INTO pharmacyApply` ì‹œ ìžë™ ì„¤ì •

**wdate_2 (ìƒíƒœ ë³€ê²½ì¼)**:
- ë©”ì¼ ë³´ëƒ„(ch=10) ìƒíƒœë¡œ ë³€ê²½ ì‹œ: `ch_Input()` í•¨ìˆ˜ í˜¸ì¶œ â†’ `wdate_2` ì„¤ì •
- ìŠ¹ì¸(ch=13) ìƒíƒœë¡œ ë³€ê²½ ì‹œ: `ch_Input()` í•¨ìˆ˜ í˜¸ì¶œ â†’ `wdate_2` ì„¤ì •
- ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ ì‹œ: `pharmacy-certificate-update.php`ì—ì„œ `wdate_2 = NOW()` ì—…ë°ì´íŠ¸
- ê¸°íƒ€ ìƒíƒœ ë³€ê²½ ì‹œì—ë„ `ch_Input()` í•¨ìˆ˜ì—ì„œ ì—…ë°ì´íŠ¸

**wdate_3 (ì¦ê¶Œë°œê¸‰ì¼)**:
- ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ ì‹œì—ë§Œ ì„¤ì •
- `pharmacy-certificate-update.php`ì—ì„œ `wdate_3 = CURDATE()` ì„¤ì •
- ì„¤ê³„ë²ˆí˜¸ ìž…ë ¥ ì‹œì—ëŠ” ì„¤ì •ë˜ì§€ ì•ŠìŒ

#### ë‚ ì§œ í•„ë“œ ì‚¬ìš© ì˜ˆì‹œ

```sql
-- ì‹ ì²­ì¼ ê¸°ì¤€ ì¡°íšŒ
SELECT * FROM pharmacyApply WHERE DATE(wdate) = '2026-01-01';

-- ìƒíƒœ ë³€ê²½ì¼ ê¸°ì¤€ ì¡°íšŒ (ê³„ì•½ ê¸°ì¤€)
SELECT * FROM pharmacyApply 
WHERE DATE(wdate_2) = '2026-01-01' AND ch = '6';

-- ì¦ê¶Œë°œê¸‰ì¼ ê¸°ì¤€ ì¡°íšŒ (ì¦ê¶Œ ê¸°ì¤€)
SELECT * FROM pharmacyApply 
WHERE DATE(wdate_3) = '2026-01-01' AND ch = '14';
```

### 8. ì‹¤ì  ì¡°íšŒ ê¸°ì¤€ (ìŠ¹ì¸ ê¸°ì¤€ vs ì¦ê¶Œ ê¸°ì¤€)

#### ìŠ¹ì¸ ê¸°ì¤€ ì‹¤ì 

**í…Œì´ë¸”**: `pharmacy_settlementList`  
**ì¡°ê±´**: `sort = 13` (ìŠ¹ì¸) ë˜ëŠ” `sort = 16` (í•´ì§€)  
**ë‚ ì§œ í•„ë“œ**: `wdate` (ì •ì‚°ì¼)

**ì˜ë¯¸**:
- ìŠ¹ì¸ ì²˜ë¦¬ ì‹œì ì˜ ì‹¤ì 
- ì˜ˆì¹˜ê¸ˆ ì°¨ê° ë° ì •ì‚° ê¸°ë¡ ìƒì„± ì‹œì  ê¸°ì¤€
- `pharmacy_settlementList` í…Œì´ë¸”ì˜ `wdate` ê¸°ì¤€ìœ¼ë¡œ ì§‘ê³„

**ì‚¬ìš© ì¿¼ë¦¬**:
```sql
SELECT 
    sort,
    CAST(approvalPreminum AS DECIMAL(15,2)) as approvalPreminum
FROM pharmacy_settlementList
WHERE SUBSTRING(wdate, 1, 10) = '2026-01-09'
  AND sort != 7
  AND account = 8
```

**íŠ¹ì§•**:
- ìŠ¹ì¸ ì²˜ë¦¬ ì¦‰ì‹œ ì •ì‚° ê¸°ë¡ ìƒì„±
- ì˜ˆì¹˜ê¸ˆ ì°¨ê°ê³¼ ë™ì‹œì— ê¸°ë¡ë¨
- ì‹¤ì œ ë³´í—˜ ê°€ìž… ì²˜ë¦¬ ì‹œì  ë°˜ì˜

#### ì¦ê¶Œ ê¸°ì¤€ ì‹¤ì 

**í…Œì´ë¸”**: `pharmacyApply`  
**ì¡°ê±´**: `ch = '14'` (ì¦ê¶Œë°œê¸‰) ë˜ëŠ” `ch = '16'` (í•´ì§€ì™„ë£Œ)  
**ë‚ ì§œ í•„ë“œ**: `wdate_3` (ì¦ê¶Œë°œê¸‰ì¼)

**ì˜ë¯¸**:
- ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ ì‹œì ì˜ ì‹¤ì 
- ì‹¤ì œ ì¦ê¶Œ ë°œê¸‰ ì™„ë£Œ ì‹œì  ê¸°ì¤€
- `pharmacyApply` í…Œì´ë¸”ì˜ `wdate_3` ê¸°ì¤€ìœ¼ë¡œ ì§‘ê³„

**ì‚¬ìš© ì¿¼ë¦¬**:
```sql
SELECT 
    ch,
    CAST(preminum AS DECIMAL(15,2)) as preminum,
    wdate_3,
    account
FROM pharmacyApply
WHERE wdate_3 >= '2026-01-09 00:00:00'
  AND wdate_3 <= '2026-01-09 23:59:59'
  AND ch IN ('14', '16')
  AND account = '8'
```

**íŠ¹ì§•**:
- ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ ì™„ë£Œ ì‹œì  ê¸°ì¤€
- ì‹¤ì œ ì¦ê¶Œ ë°œê¸‰ ì™„ë£Œëœ ê±´ë§Œ ì§‘ê³„
- ìŠ¹ì¸ í›„ ì„¤ê³„ë²ˆí˜¸ ìž…ë ¥ â†’ ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ê¹Œì§€ ì™„ë£Œëœ ê±´ë§Œ í¬í•¨

#### ë‘ ê¸°ì¤€ì˜ ì°¨ì´ì 

| êµ¬ë¶„ | ìŠ¹ì¸ ê¸°ì¤€ | ì¦ê¶Œ ê¸°ì¤€ |
|------|----------|-----------|
| **í…Œì´ë¸”** | `pharmacy_settlementList` | `pharmacyApply` |
| **ì¡°ê±´** | `sort = 13` (ìŠ¹ì¸) | `ch = '14'` (ì¦ê¶Œë°œê¸‰) |
| **ë‚ ì§œ í•„ë“œ** | `wdate` (ì •ì‚°ì¼) | `wdate_3` (ì¦ê¶Œë°œê¸‰ì¼) |
| **ì˜ë¯¸** | ìŠ¹ì¸ ì²˜ë¦¬ ì‹œì  | ì¦ê¶Œ ë°œê¸‰ ì™„ë£Œ ì‹œì  |
| **í¬í•¨ ë²”ìœ„** | ìŠ¹ì¸ ì²˜ë¦¬ëœ ëª¨ë“  ê±´ | ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ ì™„ë£Œëœ ê±´ë§Œ |
| **ì‹œì  ì°¨ì´** | ìŠ¹ì¸ ì¦‰ì‹œ | ìŠ¹ì¸ â†’ ì„¤ê³„ë²ˆí˜¸ â†’ ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ í›„ |

#### ì‹¤ì  ì¡°íšŒ API

**ì¼ë³„ ì‹¤ì  ì¡°íšŒ**:
- **ì—”ë“œí¬ì¸íŠ¸**: `/api/pharmacy-reports/daily`
- **íŒŒë¼ë¯¸í„°**: `criteria=approval` (ìŠ¹ì¸ ê¸°ì¤€) ë˜ëŠ” `criteria=contract` (ì¦ê¶Œ ê¸°ì¤€)
- **íŒŒì¼**: `imet/api/pharmacy/pharmacy-daily-report.php`

**ì›”ë³„ ì‹¤ì  ì¡°íšŒ**:
- **ì—”ë“œí¬ì¸íŠ¸**: `/api/pharmacy-reports/monthly`
- **íŒŒë¼ë¯¸í„°**: `criteria=approval` (ìŠ¹ì¸ ê¸°ì¤€) ë˜ëŠ” `criteria=contract` (ì¦ê¶Œ ê¸°ì¤€)
- **íŒŒì¼**: `imet/api/pharmacy/pharmacy-monthly-report.php`

**ì°¸ê³ **: í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” `criteria=contract`ë¡œ í‘œì‹œë˜ì§€ë§Œ, ë°±ì—”ë“œì—ì„œëŠ” ì¦ê¶Œ ê¸°ì¤€ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

---

## ì°¸ê³  ìžë£Œ

### ê´€ë ¨ ë¬¸ì„œ
- [ì•½êµ­ ê°€ìž…ì‹ ì²­ ì‹œìŠ¤í…œ Readme](../../../imet/drugstore/Readme.md)
- [API ê²€ì¦ í¬í„¸](https://imet.kr/hi/api/verification/)

### ì—°ë½ì²˜
- **ê¸°ìˆ  ì§€ì›**: ih@simg.kr
- **ì „í™”**: 070-7813-1674 (í‰ì¼ 09:00-18:00)

---

**ìž‘ì„±ì¼**: 2026-01-09  
**ìž‘ì„±ìž**: AI Assistant  
**ë²„ì „**: 1.1  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-01-10

---

## ë³€ê²½ ì´ë ¥

### 2026-01-10
- ìŠ¹ì¸ í›„ ì„¤ê³„ë²ˆí˜¸ ë° ì¦ê¶Œë²ˆí˜¸ ìž…ë ¥ í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ë¬¸ì„œí™” ì¶”ê°€
- ë‚ ì§œ í•„ë“œ (wdate, wdate_2, wdate_3) ì˜ë¯¸ ì •ë¦¬
- ìŠ¹ì¸ ê¸°ì¤€ ì‹¤ì  vs ì¦ê¶Œ ê¸°ì¤€ ì‹¤ì  ë¹„êµ ì •ë¦¬
- ì¦ê¶Œ ê¸°ì¤€ìœ¼ë¡œ ë³€ê²½ (ê¸°ì¡´ ê³„ì•½ ê¸°ì¤€ì—ì„œ ë³€ê²½)
